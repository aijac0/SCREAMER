Fast Marx Model
!
! Rick Spielman 2017-02-08
!
Time-step 2.0e-12
Resolution-time 0.2e-9
End-time 1.0e-6
Number-prints 5
Execute-cycles all
Grids no
Echo-setup no
Max-points 5001
!
!Start circuit definition
!
! Rev 1 A single fast marx including switch losses
! Marx has 30 stages with 300 nF/stage
!
! Gas switch dimensions from drawings
!
! We start with a total Marx capacitance of 10 nF.
!
! We have a 10-nF fast Marx with 30 cap pairs in series and 15 switches. Vch = 3 MV
! Include 130 m½ individual cap ESR or 65 m½ per pair of caps in parallel per stage
!   X 30 stages = 1.95 ½ per Marx
! Assume that there will be 200 nH every two stages. L = 200 nH * 15 = 3.0 µH. (high?)
!
! The matched impedance of a single Marx = sqrt(L/C) = 17.3 ½.
! The ESR amounts to ~ 9% of the matched impedance.
!
! The switch model will have 15x the length of one switch per Fast Marx .
! The 50264 has a total gap of 2x0.6731cm = 1.35 cm, total gap = 20.193 cm
! 
!
BRANCH
!
! Capacitor capacitance and charge voltage
!
RCGround 1e+12 10e-9
Initial VC1 3.0e6
UFO VC1
$V_marx
UFO EC1
$E_marx
!
! Cap inductance, case & parasitic inductance, and ESR
! ESR = 1.95 for a single Marx 
!
RLSeries 1.95 2500e-9
!
! Switch resistance - Martin Model and switch inductance - the total gap for a single
!   switch is 1.346 cm and 93 psig air is 7.3 bars
!
! Initial switch resistance was chosen to be higher than that printed in the first
! few time steps so as to appear monotonically decreasing in R plots
! A careful few runs showed that 10 G½ looked best. In any event by 1 ns all of the 
! resistance values are the same.
!
RLSeries 10e9 500e-9
Var R2 Switch
!dielectric switchtime gap        pressure     nswitch  nchannels
AIR            0.0              0.2019   7.3              1              1
UFO IR2
$I_marx
UFO R2
$R_switch
UFO ER2
$E_switch
UFO QR2
$Q_switch
!
! Output Marx header inducatance
!
RLSeries 0.00 100e-9
!
! Load values
!
RCGround 17.3 0.0
UFO IR1
$I_load
UFO VR1
$V_load
UFO PR1
$P_load
UFO ER1
$E_load
!
! End circuit
!